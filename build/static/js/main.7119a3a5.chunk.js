(this["webpackJsonpquiz-app-frontend"]=this["webpackJsonpquiz-app-frontend"]||[]).push([[0],{38:function(e,t,a){e.exports=a(72)},47:function(e,t,a){},48:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(15),l=a.n(s),o=(a(43),a(46),a(47),a(3)),u=a(4),c=(a(48),Object(n.createContext)()),i=Object(n.createContext)(),m=a(1),d=a.n(m),p=a(2),f=a(8),v=a.n(f);v.a.defaults.withCredentials=!1,console.log("ENV: ","production"),v.a.defaults.baseURL="https://quiz.tormod.dev/api/v1";var g=function(){var e=Object(p.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("/questions/".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(p.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("/users/does-email-exist/".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(p.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("/users/does-username-exist/".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(p.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.post("/questions/does-question-exist",{title:t},{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("/users/me/questions",{withCredentials:!0,"Content-Type":"application/json"});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(p.a)(d.a.mark((function e(t,a,n,r,s){var l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Sending",t,a,n,r,s),e.next=4,v.a.post("/questions",t,a,n,r,s,{withCredentials:!0,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 4:return l=e.sent,console.log("response:",l),e.abrupt("return",l.data);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a,n,r,s){return e.apply(this,arguments)}}(),O=function(){var e=Object(p.a)(d.a.mark((function e(t){var a,n,r,s,l,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.title,n=t.question,r=t.correctAnswer,s=t.difficulty,l=t.answerOptions,console.log("Sending",t.id,a,n,r,l,s),e.next=9,v()({method:"PATCH",url:"/users/me/questions/".concat(t.id),data:{title:a,question:n,correctAnswer:r,answerOptions:l,difficulty:s},withCredentials:!0,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 9:return o=e.sent,console.log("response:",o),e.abrupt("return",o.data);case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(p.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Deleting",t),e.next=4,v()({method:"DELETE",url:"/users/me/questions/".concat(t),withCredentials:!0,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 4:return a=e.sent,console.log("response:",a),e.abrupt("return",a.data);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(p.a)(d.a.mark((function e(t,a,n,r){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("signup"),e.next=4,v.a.post("/users/signup",t,a,n,r);case 4:return s=e.sent,e.abrupt("return",s.data);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a,n,r){return e.apply(this,arguments)}}(),C=function(){var e=Object(p.a)(d.a.mark((function e(t,a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.post("/users/login",{email:t,password:a},{withCredentials:!0,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log("API not responding"),console.log(e.t0),e.abrupt("return",{status:"failed"});case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),j=function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("/users/me",{withCredentials:!0,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log("API not responding"),console.log(e.t0),e.abrupt("return",{status:"failed"});case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("/questions/random");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log("API not responding"),console.log(e.t0),e.abrupt("return",{status:"failed"});case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(p.a)(d.a.mark((function e(t,a,n){var r,s,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{Authorization:"Bearer ".concat(n)}},s={answer:t},e.prev=2,e.next=5,v.a.post("/questions/".concat(a),s,r);case 5:return l=e.sent,e.abrupt("return",l.data);case 9:return e.prev=9,e.t0=e.catch(2),console.log("API not responding"),console.log(e.t0),e.abrupt("return",{status:"failed"});case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a,n){return e.apply(this,arguments)}}(),I=function(e){var t=Object(n.useContext)(c),a=Object(n.useState)(""),s=Object(o.a)(a,2),l=s[0],i=s[1],m=Object(n.useState)(""),f=Object(o.a)(m,2),v=f[0],g=f[1],b=function(){var e=Object(p.a)(d.a.mark((function e(a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,C(l,v);case 3:"success"===(n=e.sent).status&&(t({type:"login",value:{username:n.data.user.name,email:n.data.user.email,id:n.data.user._id}}),t({type:"flashMessage",value:"Successfully logged in!"}),console.log("logged in"));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{onSubmit:b,className:"mb-0 pt-2 pt-md-0"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md mr-0 pr-md-0 mb-3 mb-md-0"},r.a.createElement("input",{type:"text",onChange:function(e){return i(e.target.value)},name:"Username",value:l,className:"form-control form-control-sm input-dark",placeholder:"Username",autoComplete:"off"})),r.a.createElement("div",{className:"col-md mr-0 pr-md-0 mb-3 mb-md-0"},r.a.createElement("input",{type:"password",name:"password",onChange:function(e){return g(e.target.value)},value:v,className:"form-control form-control-sm input-dark",placeholder:"Password"})),r.a.createElement("div",{className:"col-md-auto mr-0 pr-md-0 mb-3 mb-md-0"},r.a.createElement("button",{className:"btn btn-success btn-sm"},"Sign In")),r.a.createElement("div",{className:"col-md-auto"},r.a.createElement(u.b,{className:"btn btn-secondary btn-sm",to:"/sign-up"},"Sign Up"))))},A=function(){var e=Object(n.useContext)(c),t=function(){var t=Object(p.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),e({type:"logout"}),e({type:"flashMessage",value:"Successfully logged out!"});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"flex-row my-3 my-md-0"},r.a.createElement(u.b,{className:"btn btn-sm btn-success mr-2",to:"/create-question"},"Create Question")," ",r.a.createElement(u.b,{className:"btn btn-sm btn-success mr-2",to:"/profile"},"Profile")," ",r.a.createElement("button",{onClick:t,className:"btn btn-sm btn-secondary"},"Sign out"))},S=function(){Object(n.useContext)(c);var e=Object(n.useContext)(i);return r.a.createElement("header",{className:"header-bar bg-primary mb-3"},r.a.createElement("div",{className:"container d-flex flex-column flex-md-row align-items-center p-3"},r.a.createElement("h4",{className:"my-0 mr-md-auto font-weight-normal"},r.a.createElement(u.b,{to:"/",className:"text-white"},"QuizApp")),e.loggedIn?r.a.createElement(A,null):r.a.createElement(I,null)))};var D=function(){return r.a.createElement("footer",{className:"border-top text-center small text-muted py-3"},r.a.createElement("p",null,r.a.createElement(u.b,{to:"/",className:"mx-1"},"Home")," ","|",r.a.createElement(u.b,{className:"mx-1",to:"/about-us"},"About Us")," ","|",r.a.createElement(u.b,{className:"mx-1",to:"/terms"},"Terms")),r.a.createElement("p",{className:"m-0"},"Copyright \xa9 2020"," ",r.a.createElement("a",{href:"/",className:"text-muted"},"Quiz App"),". All rights reserved."))},M=a(13),F={height:"100%",width:"100%",border:"1px"},U={height:"100%",width:"100%",border:"1px",background:"green"},T=function(e){var t=e.checked,a=e.onClick;return n.createElement("div",{onClick:a,style:t?U:F})},Q={diplay:"flex",width:"120px",height:"50px",flexDirection:"row"},V=function(e){var t=e.options,a=e.onClick,s=Object(n.useState)(""),l=Object(o.a)(s,2),u=l[0],c=l[1],i=function(e){a&&a(e),c(e)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:Q},t.map((function(e){return r.a.createElement(T,{key:e,onClick:function(){return i(e)},checked:u===e})}))))},R={margin:"10px auto auto auto",height:"20%",width:"80%"},z={margin:"10px auto auto auto",textAlign:"center",fontSize:"3rem",background:"red"},P={margin:"20px auto auto auto",height:"60%",width:"80%",background:"blue"},L={margin:"50px auto 50px auto",height:"500px",width:"800px",background:"grey"},_={display:"flex",height:"100%",width:"100%"},B=function(){Object(n.useContext)(c);var e=Object(n.useContext)(i),t=Object(n.useState)(""),a=Object(o.a)(t,2),s=a[0],l=a[1];Object(n.useEffect)((function(){(function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:(t=e.sent)&&l(t.data.data[0]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var u=function(){var t=Object(p.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),console.log(s._id),console.log(e.user.token),t.next=5,q(a,s._id,e.user.token);case 5:n=t.sent,console.log(n);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:_},r.a.createElement("div",{style:L},r.a.createElement("div",{style:z},s.title),r.a.createElement("div",{style:P},s.question),r.a.createElement("div",{style:R},s.answerOptions&&r.a.createElement(V,{onClick:u,options:s.answerOptions})))))},Y=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2);t[0],t[1];return r.a.createElement("div",null,r.a.createElement(B,null))};a(70);var J=function(){return r.a.createElement("div",{className:"dots-loading"},r.a.createElement("div",null))};var K=function(e){var t=e.index,a=e.questions,s=e.setQuestions,l=Object(n.useContext)(c),i=e.question,m=i.difficulty,f=i.timesAnswered,v=i.timesCorrectAnswered,g=Object(M.a)((function(e,t){switch(t.type){case"deleteRequest":e.deleteRequest=!0;break;case"CancelRequest":e.deleteRequest=!1;break;case"Delete":e.deleteRequest&&e.submitCount++}}),{deleteRequest:!1,submitCount:0}),b=Object(o.a)(g,2),E=b[0],h=b[1];return Object(n.useEffect)((function(){E.submitCount>0&&function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(i._id);case 2:t=e.sent;try{console.log("resp:",t),"success"===t.status&&l({type:"flashMessage",value:"You have deleted one of your questions!"})}catch(a){console.log(a)}return e.abrupt("return");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[E.submitCount]),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col-md-12 mb-3"},r.a.createElement("div",{className:"row d-flex align-items-center"},r.a.createElement(u.b,{onClick:e.onClick,to:"/question/".concat(i._id,"/edit"),className:"list-group-item list-group-item-action col mb-2"},r.a.createElement("strong",null,i.title)," \xa0\xa0\xa0\xa0",r.a.createElement("span",{className:"text-muted small mr-10"},r.a.createElement(r.a.Fragment,null,"Difficulty: ",m,", Answered ",f," times")," ","and Correctly answered ",v,"")),r.a.createElement("div",{className:"col mb-2 align-middle"},E.deleteRequest&&r.a.createElement("div",{className:"row d-flex align-items-center"},r.a.createElement("div",{className:"ml-2"},r.a.createElement("button",{className:"btn btn-success",onClick:function(e){e.preventDefault();var n=a;n.splice(t,1),s(n),h({type:"Delete",value:!0}),console.log("index:",t),console.log("qs:",a)}},"\u2713")),r.a.createElement("div",{className:"ml-2"},r.a.createElement("button",{className:"btn btn-danger",onClick:function(e){e.preventDefault(),h({type:"CancelRequest",value:!1})}},"X"))),!E.deleteRequest&&r.a.createElement("button",{className:"btn btn-danger ",onClick:function(e){e.preventDefault(),h({type:"deleteRequest",value:!0})}},"X")))))};var W=function(e){Object(n.useContext)(i);var t=Object(n.useState)(!0),a=Object(o.a)(t,2),s=a[0],l=a[1],c=Object(n.useState)([]),m=Object(o.a)(c,2),f=m[0],v=m[1];return Object(n.useEffect)((function(){(function(){var e=Object(p.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:(t=e.sent)?(a=t.data.data,console.log("Questions",a),v(a)):console.log("no questions for this user"),l(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),s?r.a.createElement(J,null):r.a.createElement("div",{className:"list-group"},f.length>0&&f.map((function(e,t){return r.a.createElement(K,{question:e,questions:f,key:e._id,index:t,setQuestions:v})})),0===f.length&&r.a.createElement("p",{className:"lead text-muted text-center"},"You haven\u2019t created any question yet;"," ",r.a.createElement(u.b,{to:"/create-question"},"create one now!")),0===f.length&&r.a.createElement("p",{className:"lead text-muted text-center"},"No questions created yet."))},H=a(5);var X=function(e){return r.a.createElement("div",{className:"container py-md-5 mb-5"+(e.wide?"":"container--narrow")},e.children)};var $=function(e){return Object(n.useEffect)((function(){document.title="".concat(e.title," | QuizApp"),window.scrollTo(0,0)}),[e.title]),r.a.createElement(X,{wide:e.wide},e.children)};var Z=function(e){Object(n.useContext)(i);var t=Object(n.useState)(!0),a=Object(o.a)(t,2),s=a[0],l=a[1],c=Object(n.useState)([]),m=Object(o.a)(c,2),d=m[0];return m[1],Object(n.useEffect)((function(){console.log("get answered questions"),l(!1)}),[]),s?r.a.createElement(J,null):r.a.createElement("div",{className:"list-group"},d.length>0&&d.map((function(e,t){return r.a.createElement(u.b,{key:t,to:"/profile/answered-questions",className:"list-group-item list-group-item-action"},r.a.createElement("div",null,"hello"))})),0===d.length&&r.a.createElement("p",{className:"lead text-muted text-center"},"You haven\u2019t answered any questions yet."))},G=function(){var e=Object(n.useContext)(i),t=Object(n.useState)(!0),a=Object(o.a)(t,2),s=(a[0],a[1]),l=Object(n.useState)(NaN),c=Object(o.a)(l,2),m=c[0],f=c[1];return Object(n.useEffect)((function(){(function(){var e=Object(p.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:"success"===(t=e.sent).status?(a=t.data.data,f(a.userScore.score)):(console.log("no info for this user"),f(0)),s(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement($,{title:"Profile Screen"},r.a.createElement("div",{className:"row d-flex align-items-center"},r.a.createElement("h2",null,e.user.username),"\xa0\xa0\xa0\xa0",r.a.createElement("div",null,"Score:"),"\xa0",r.a.createElement("div",null,isNaN(m)&&r.a.createElement(J,null)),r.a.createElement("div",null,!isNaN(m)&&m)),r.a.createElement("div",{className:"profile-nav nav nav-tabs pt-2 mb-4"},r.a.createElement(u.c,{exact:!0,to:"/profile",className:"nav-item nav-link"},"My Questions: "),r.a.createElement(u.c,{to:"/profile/answered-questions",className:"nav-item nav-link"},"Answered Questions: ")),r.a.createElement(H.c,null,r.a.createElement(H.a,{exact:!0,path:"/profile"},r.a.createElement(W,null)),r.a.createElement(H.a,{path:"/profile/answered-questions"},r.a.createElement(Z,null))))},ee=a(73);var te=function(e){var t=e.selectItem;return r.a.createElement("div",{className:"row mb-3"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("select",{onChange:function(e){e.preventDefault(),t(e.target.value)},className:"custom-select my-select"},r.a.createElement("option",{value:"easy"},"Easy"),r.a.createElement("option",{value:"medium"},"Medium"),r.a.createElement("option",{value:"hard"},"Hard"))))},ae=a(36);var ne=function(e){var t=e.items,a=e.setItems;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col-md-12 mb-3"},t.map((function(e,n){return r.a.createElement("div",{className:"row",key:n},r.a.createElement("div",{className:"col mb-2"},e),r.a.createElement("div",{className:"col mb-2"},r.a.createElement("button",{className:"btn btn-danger",disabled:0===t.length,onClick:function(e){return function(e,n){e.preventDefault();var r=Object(ae.a)(t);r.splice(r.findIndex((function(e){return e.id===n})),1),a(r)}(e,n)}},"X")))}))))};var re=Object(H.g)((function(e){var t=Object(n.useState)("easy"),a=Object(o.a)(t,2),s=a[0],l=a[1],u=Object(n.useState)([]),i=Object(o.a)(u,2),m=i[0],f=i[1],v=Object(n.useState)(""),g=Object(o.a)(v,2),b=g[0],E=g[1],y=Object(n.useContext)(c),O=Object(M.a)((function(e,t){switch(t.type){case"titleImmediately":e.title.hasErrors=!1,e.title.value=t.value,e.title.value.length>100?(e.title.hasErrors=!0,e.title.message="Title is to long"):e.title.value.length<=10?(e.title.hasErrors=!0,e.title.message="Question title is to short"):0===e.title.value.length&&(e.title.hasErrors=!0,e.title.message="Question must have a title");break;case"titleUniqueResults":t.value?(e.title.hasErrors=!0,e.title.isUnique=!1,e.title.message="Question with that title already exist"):e.title.isUnique=!0;break;case"bodyImmediately":e.body.hasErrors=!1,e.body.value=t.value,e.body.value.length>500&&(e.body.hasErrors=!0,e.body.message="Question is to long");break;case"bodyAfterDelay":e.body.value.length<10&&(e.body.hasErrors=!0,e.body.message="Question is to short");break;case"difficultyImmediately":e.difficulty.hasErrors=!1,e.difficulty.value=t.value,["easy","medium","hard"].includes(e.difficulty.value)||(e.difficulty.hasErrors=!0,e.difficulty.message="Define difficulty");break;case"correctAnswerImmediately":e.answer.hasErrors=!1,e.answer.value=t.value,e.answer.value||(e.answer.hasErrors=!0,e.answer.message="Define the correct answer");break;case"answerOptionsImmediately":e.answerOptions.hasErrors=!1,e.answerOptions.value=t.value,0===e.answerOptions.value.length&&e.submitCount>0?(e.answerOptions.hasErrors=!0,e.answerOptions.message="Define the answer options"):e.answerOptions.value.length>3&&(e.answerOptions.hasErrors=!0,e.answerOptions.message="To many answer options");break;case"submitForm":e.title.hasErrors||!e.title.isUnique||e.body.hasErrors||e.difficulty.hasErrors||e.answer.hasErrors||e.answerOptions.hasErrors||e.submitCount++}}),{title:{value:"",hasErrors:!1,message:"",isUnique:!1,checkCount:0},body:{value:"",hasErrors:!1,message:"",checkCount:0},difficulty:{value:"",hasErrors:!1,message:""},answer:{value:"",hasErrors:!1,message:""},answerOptions:{value:[],hasErrors:!1,message:""},submitCount:0}),x=Object(o.a)(O,2),N=x[0],C=x[1];return Object(n.useEffect)((function(){if(N.body.value){var e=setTimeout((function(){return C({type:"bodyAfterDelay"})}),800);return function(){return clearTimeout(e)}}}),[N.body.value]),Object(n.useEffect)((function(){C({type:"difficultyImmediately",value:s})}),[s]),Object(n.useEffect)((function(){C({type:"answerOptionsImmediately",value:m})}),[m]),Object(n.useEffect)((function(){if(N.title.value){var e=setTimeout((function(){(function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(N.title.value);case 2:t=e.sent,C({type:"titleUniqueResults",value:"OK"!==t.data.message});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),1500);return function(){return clearTimeout(e)}}}),[N.title.value]),Object(n.useEffect)((function(){N.submitCount&&function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w({title:N.title.value,question:N.body.value,correctAnswer:N.answer.value,answerOptions:N.answerOptions.value,difficulty:N.difficulty.value});case 2:t=e.sent,console.log("resp:",t),"success"===t.status&&y({type:"flashMessage",value:"You created a new question!"});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[N.submitCount]),r.a.createElement($,{title:"Create New Question"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),C({type:"titleImmediately",value:N.title.value}),C({type:"bodyImmediately",value:N.body.value}),C({type:"bodyAfterDelay",value:N.body.value}),C({type:"difficultyImmediately",value:N.difficulty.value}),C({type:"correctAnswerImmediately",value:N.answer.value}),C({type:"answerOptionsImmediately",value:N.answerOptions.value}),C({type:"submitForm"})}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"question-title",className:"text-muted mb-1"},r.a.createElement("small",null,"Title")),r.a.createElement("input",{onChange:function(e){return C({type:"titleImmediately",value:e.target.value})},autoFocus:!0,name:"title",id:"question-title",className:"form-control form-control-lg form-control-title",type:"text",placeholder:"",autoComplete:"off"}),r.a.createElement(ee.a,{in:N.title.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0},r.a.createElement("div",{className:"alert alert-danger small liveValidateMessage"},N.title.message))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"post-body",className:"text-muted mb-1 d-block"},r.a.createElement("small",null,"Question")),r.a.createElement("textarea",{onChange:function(e){return C({type:"bodyImmediately",value:e.target.value})},name:"body",id:"post-body",className:"body-content tall-textarea form-control",type:"text"}),r.a.createElement(ee.a,{in:N.body.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0},r.a.createElement("div",{className:"alert alert-danger small liveValidateMessage"},N.body.message))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"correct-answer",className:"text-muted mb-1"},r.a.createElement("small",null,"Correct Answer")),r.a.createElement("input",{onChange:function(e){return C({type:"correctAnswerImmediately",value:e.target.value})},autoFocus:!0,name:"Correct Answer",id:"correct-answer",className:"form-control form-control-lg form-control-title",type:"text",placeholder:"",autoComplete:"off"}),r.a.createElement(ee.a,{in:N.answer.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0},r.a.createElement("div",{className:"alert alert-danger small liveValidateMessage"},N.answer.message))),r.a.createElement("label",{htmlFor:"correct-answer",className:"text-muted mb-1"},r.a.createElement("small",null,"Difficulty")),r.a.createElement(te,{selectItem:l}),r.a.createElement(ee.a,{in:N.difficulty.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0},r.a.createElement("div",{className:"alert alert-danger small liveValidateMessage"},N.difficulty.message)),r.a.createElement("label",{htmlFor:"correct-answer",className:"text-muted mb-1"},r.a.createElement("small",null,"Answer alternatives")),r.a.createElement(ne,{items:m,setItems:f}),r.a.createElement(ee.a,{in:N.answerOptions.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0},r.a.createElement("div",{className:"alert alert-danger small liveValidateMessage"},N.answerOptions.message)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"answer-options",className:"text-muted mb-1"},r.a.createElement("small",null,"Add an answer option")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col mb-2"},r.a.createElement("input",{onChange:function(e){return E(e.target.value)},autoFocus:!0,name:"Answer Option",id:"answer-options",className:"form-control form-control-lg form-control-title",type:"text",placeholder:"",autoComplete:"off"})),r.a.createElement("div",{className:"col mb-2"},r.a.createElement("button",{className:"btn btn-success",disabled:0===b.length,onClick:function(e){e.preventDefault(),f(m.concat(b)),E(""),document.getElementById("answer-options").value=""}},"+")))),r.a.createElement("button",{className:"btn btn-primary"},"Create New Question")))}));a(71);var se=function(){var e=Object(n.useContext)(c),t=Object(M.a)((function(e,t){switch(t.type){case"usernameImmediately":e.username.hasErrors=!1,e.username.value=t.value,e.username.value.length>30&&(e.username.hasErrors=!0,e.username.message="Username to long"),e.username.value&&!/^([a-zA-Z0-9]+)$/.test(e.username.value)&&(e.username.hasErrors=!0,e.username.message="Username can only contain letters and numbers");break;case"usernameAfterDelay":e.username.value.length<3&&(e.username.hasErrors=!0,e.username.message="needs more than 3 chars"),e.hasErrors||t.noRequest||e.username.checkCount++;break;case"usernameUniqueResults":t.value?(e.username.hasErrors=!0,e.username.isUnique=!1,e.username.message="user exist"):e.username.isUnique=!0;break;case"emailImmediately":e.email.hasErrors=!1,e.email.value=t.value;break;case"emailAfterDelay":/^\S+@\S+$/.test(e.email.value)||(e.email.hasErrors=!0,e.email.message="Invalid email"),e.email.hasErrors||t.noRequest||e.email.checkCount++;break;case"emailUniqueResults":t.value?(e.email.hasErrors=!0,e.email.isUnique=!1,e.email.message="Email is already in use"):e.email.isUnique=!0;break;case"passwordImmediately":e.password.hasErrors=!1,e.password.value=t.value,e.password.value.length>12&&(e.password.hasErrors=!0,e.password.message="Password to long");break;case"passwordAfterDelay":e.password.value.length<6&&(e.password.hasErrors=!0,e.password.message="password to short");break;case"passwordConfirmImmediately":e.passwordConfirm.hasErrors=!1,e.passwordConfirm.value=t.value,e.passwordConfirm.value.length>12&&(e.passwordConfirm.hasErrors=!0,e.passwordConfirm.message="Password to long");break;case"passwordConfirmAfterDelay":e.passwordConfirm.value.length<6?(e.passwordConfirm.hasErrors=!0,e.passwordConfirm.message="password to short"):e.passwordConfirm.value!==e.password.value&&(e.passwordConfirm.hasErrors=!0,e.passwordConfirm.message="passwords do not match!");break;case"submitForm":e.username.hasErrors||!e.username.isUnique||e.email.hasErrors||!e.email.isUnique||e.password.hasErrors||e.passwordConfirm.hasErrors||e.submitCount++}}),{username:{value:"",hasErrors:!1,message:"",isUnique:!1,checkCount:0},email:{value:"",hasErrors:!1,message:"",isUnique:!1,checkCount:0},password:{value:"",hasErrors:!1,message:""},passwordConfirm:{value:"",hasErrors:!1,message:""},submitCount:0}),a=Object(o.a)(t,2),s=a[0],l=a[1];return Object(n.useEffect)((function(){if(s.username.value){var e=setTimeout((function(){return l({type:"usernameAfterDelay"})}),800);return function(){return clearTimeout(e)}}}),[s.username.value]),Object(n.useEffect)((function(){if(s.email.value){var e=setTimeout((function(){return l({type:"emailAfterDelay"})}),800);return function(){return clearTimeout(e)}}}),[s.email.value]),Object(n.useEffect)((function(){if(s.password.value){var e=setTimeout((function(){return l({type:"passwordAfterDelay"})}),800);return function(){return clearTimeout(e)}}}),[s.password.value]),Object(n.useEffect)((function(){if(s.passwordConfirm.value){var e=setTimeout((function(){return l({type:"passwordConfirmAfterDelay"})}),800);return function(){return clearTimeout(e)}}}),[s.passwordConfirm.value]),Object(n.useEffect)((function(){s.username.checkCount&&function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(s.username.value);case 2:t=e.sent,console.log("hello"),l({type:"usernameUniqueResults",value:"OK"!==t.data.message});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[s.username.checkCount]),Object(n.useEffect)((function(){s.email.checkCount&&function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(s.email.value);case 2:t=e.sent,l({type:"emailUniqueResults",value:"OK"!==t.data.message});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[s.email.checkCount]),Object(n.useEffect)((function(){s.submitCount&&function(){var t=Object(p.a)(d.a.mark((function t(){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N({name:s.username.value,email:s.email.value,password:s.password.value,passwordConfirm:s.passwordConfirm.value});case 2:"success"===(a=t.sent).status&&(e({type:"login",value:{username:a.data.user.name,email:a.data.user.email,id:a.data.user._id}}),e({type:"flashMessage",value:"Welcome to your new account!"}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[s.submitCount]),r.a.createElement($,{title:"Sign up",wide:!1},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-lg-7 py-3 py-md-5"},r.a.createElement("h2",null,"Sign up!"),r.a.createElement("p",{className:"lead text-muted"},"Create a user to create questions on your own and keep track of your score!")),r.a.createElement("div",{className:"col-lg-5 pl-lg-5 pb-3 py-lg-5"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),l({type:"usernameImmediately",value:s.username.value}),l({type:"usernameAfterDelay",value:s.username.value,noRequest:!0}),l({type:"emailImmediately",value:s.email.value}),l({type:"emailAfterDelay",value:s.email.value,noRequest:!0}),l({type:"passwordImmediately",value:s.password.value}),l({type:"passwordAfterDelay",value:s.password.value}),l({type:"passwordConfirmImmediately",value:s.passwordConfirm.value}),l({type:"passwordConfirmAfterDelay",value:s.passwordConfirm.value}),l({type:"submitForm"})}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username-register",className:"text-muted mb-1"},r.a.createElement("small",null,"Username")),r.a.createElement("input",{onChange:function(e){return l({type:"usernameImmediately",value:e.target.value})},id:"username-register",name:"username",className:"form-control",type:"text",placeholder:"Pick a username",autoComplete:"off"}),r.a.createElement(ee.a,{in:s.username.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0},r.a.createElement("div",{className:"alert alert-danger small liveValidateMessage"},s.username.message))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email-register",className:"text-muted mb-1"},r.a.createElement("small",null,"Email")),r.a.createElement("input",{onChange:function(e){return l({type:"emailImmediately",value:e.target.value})},id:"email-register",name:"email",className:"form-control",type:"text",placeholder:"you@example.com",autoComplete:"off"}),r.a.createElement(ee.a,{in:s.email.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0},r.a.createElement("div",{className:"alert alert-danger small liveValidateMessage"},s.email.message))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password-register",className:"text-muted mb-1"},r.a.createElement("small",null,"Password")),r.a.createElement("input",{onChange:function(e){return l({type:"passwordImmediately",value:e.target.value})},id:"password-register",name:"password",className:"form-control",type:"password",placeholder:"Create a password"}),r.a.createElement(ee.a,{in:s.password.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0},r.a.createElement("div",{className:"alert alert-danger small liveValidateMessage"},s.password.message))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password-register-confirm",className:"text-muted mb-1"},r.a.createElement("small",null,"Password Confirm")),r.a.createElement("input",{onChange:function(e){return l({type:"passwordConfirmImmediately",value:e.target.value})},id:"password-register-confirm",name:"password",className:"form-control",type:"password",placeholder:"Confirm password"}),r.a.createElement(ee.a,{in:s.passwordConfirm.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0},r.a.createElement("div",{className:"alert alert-danger small liveValidateMessage"},s.passwordConfirm.message))),r.a.createElement("button",{type:"submit",className:"py-3 mt-4 btn btn-lg btn-success btn-block"},"Sign up for QuizApp")))))};var le=function(e){return r.a.createElement("div",{className:"floating-alerts"},e.messages.map((function(e,t){return r.a.createElement("div",{key:t,className:"alert alert-success text-center floating-alert shadow-sm"},e)})))};var oe=function(){return r.a.createElement($,{title:"Not Found"},r.a.createElement("div",{className:"text-center"},r.a.createElement("h2",null,"Whoops, we cannot find that page."),r.a.createElement("p",{className:"lead text-muted"},"You can always visit the ",r.a.createElement(u.b,{to:"/"},"homepage")," to get a fresh start.")))};var ue=Object(H.g)((function(e){var t=Object(n.useState)("easy"),a=Object(o.a)(t,2),s=a[0],l=a[1],u=Object(n.useState)([]),i=Object(o.a)(u,2),m=i[0],f=i[1],v=Object(n.useState)(""),b=Object(o.a)(v,2),E=b[0],y=b[1],w=Object(n.useContext)(c),x=Object(H.f)().id,N=Object(M.a)((function(e,t){switch(t.type){case"titleImmediately":e.title.hasErrors=!1,e.title.value=t.value,e.title.value.length>100?(e.title.hasErrors=!0,e.title.message="Title is to long"):e.title.value.length<=10?(e.title.hasErrors=!0,e.title.message="Question title is to short"):0===e.title.value.length&&(e.title.hasErrors=!0,e.title.message="Question must have a title");break;case"titleUniqueResults":t.value?e.title.isUnique=!0:(e.title.hasErrors=!0,e.title.isUnique=!1,e.title.message="Question with that title already exist");break;case"bodyImmediately":e.body.hasErrors=!1,e.body.value=t.value,e.body.value.length>500&&(e.body.hasErrors=!0,e.body.message="Question is to long");break;case"bodyAfterDelay":e.body.value.length<10&&(e.body.hasErrors=!0,e.body.message="Question is to short");break;case"difficultyImmediately":e.difficulty.hasErrors=!1,e.difficulty.value=t.value,["easy","medium","hard"].includes(e.difficulty.value)||(e.difficulty.hasErrors=!0,e.difficulty.message="Define difficulty");break;case"correctAnswerImmediately":e.answer.hasErrors=!1,e.answer.value=t.value,e.isChanged=!1,e.answer.value||(e.answer.hasErrors=!0,e.answer.message="Define the correct answer");break;case"answerOptionsImmediately":e.answerOptions.hasErrors=!1,e.answerOptions.value=t.value,0===e.answerOptions.value.length&&e.submitCount>0?(e.answerOptions.hasErrors=!0,e.answerOptions.message="Define the answer options"):e.answerOptions.value.length>3&&(e.answerOptions.hasErrors=!0,e.answerOptions.message="To many answer options");break;case"initialState":e.initialState.title=t.value.title,e.initialState.body=t.value.question,e.initialState.difficulty=t.value.difficulty,e.initialState.answer=t.value.correctAnswer,e.initialState.answerOptions=t.value.answerOptions;break;case"Loading":e.isLoading=t.value;break;case"QuestionFound":e.questionFound=t.value;break;case"QuestionChanged":e.isChanged=t.value;break;case"submitForm":e.title.hasErrors||!e.title.isUnique||e.body.hasErrors||e.difficulty.hasErrors||e.answer.hasErrors||e.answerOptions.hasErrors||e.submitCount++}}),{initialState:{title:"",body:"",difficulty:"",answer:"",answerOptions:""},title:{value:"",hasErrors:!1,message:"",isUnique:!0,checkCount:0},body:{value:"",hasErrors:!1,message:"",checkCount:0},difficulty:{value:"",hasErrors:!1,message:""},answer:{value:"",hasErrors:!1,message:""},answerOptions:{value:"",hasErrors:!1,message:""},isLoading:!0,questionFound:!1,isChanged:!1,submitCount:0}),C=Object(o.a)(N,2),j=C[0],k=C[1];return Object(n.useEffect)((function(){if(j.body.value){var e=setTimeout((function(){return k({type:"bodyAfterDelay"})}),800);return function(){return clearTimeout(e)}}}),[j.body.value]),Object(n.useEffect)((function(){k({type:"difficultyImmediately",value:s})}),[s]),Object(n.useEffect)((function(){k({type:"answerOptionsImmediately",value:m})}),[m]),Object(n.useEffect)((function(){""===j.initialState.title||j.title.value===j.initialState.title&&j.body.value===j.initialState.body&&j.difficulty.value===j.initialState.difficulty&&j.answer.value===j.initialState.answer&&JSON.stringify(j.answerOptions.value)===JSON.stringify(j.initialState.answerOptions)?k({type:"QuestionChanged",value:!1}):k({type:"QuestionChanged",value:!0})}),[j.title,j.body,j.difficulty,j.answer,j.answerOptions]),Object(n.useEffect)((function(){if(j.title.value&&j.isChanged){var e=setTimeout((function(){(function(){var e=Object(p.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(j.title.value);case 2:t=e.sent,a=!1,"OK"!==t.data.message&&j.title.value!==j.initialState.title||(a=!0),k({type:"titleUniqueResults",value:a});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),1500);return function(){return clearTimeout(e)}}}),[j.title.value]),Object(n.useEffect)((function(){j.submitCount&&function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({id:x,title:j.title.value,question:j.body.value,correctAnswer:j.answer.value,answerOptions:j.answerOptions.value,difficulty:j.difficulty.value});case 2:t=e.sent;try{console.log("resp:",t),"success"===t.status&&w({type:"flashMessage",value:"You have edited your question!"})}catch(a){console.log(a)}return e.abrupt("return");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[j.submitCount]),Object(n.useEffect)((function(){(function(){var e=Object(p.a)(d.a.mark((function e(){var t,a,n,r,s,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(x);case 2:t=e.sent;try{"success"===t.status&&(a=t.data.data.title,n=t.data.data.question,r=t.data.data.correctAnswer,s=t.data.data.difficulty,o=t.data.data.answerOptions,k({type:"titleImmediately",value:a}),k({type:"bodyImmediately",value:n}),k({type:"correctAnswerImmediately",value:r}),l(s),f(o),k({type:"initialState",value:{title:a,question:n,correctAnswer:r,difficulty:s,answerOptions:o}}),k({type:"Loading",value:!1}),k({type:"QuestionFound",value:!0}))}catch(u){console.log(u),k({type:"QuestionFound",value:!1})}case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement($,{title:"Create New Question"},j.isLoading&&r.a.createElement(J,null),j.isLoading&&j.questionFound&&r.a.createElement(oe,null),!j.isLoading&&r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),k({type:"titleImmediately",value:j.title.value}),k({type:"bodyImmediately",value:j.body.value}),k({type:"bodyAfterDelay",value:j.body.value}),k({type:"difficultyImmediately",value:j.difficulty.value}),k({type:"correctAnswerImmediately",value:j.answer.value}),k({type:"answerOptionsImmediately",value:j.answerOptions.value}),k({type:"submitForm"})}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"question-title",className:"text-muted mb-1"},r.a.createElement("small",null,"Title")),r.a.createElement("input",{onChange:function(e){return k({type:"titleImmediately",value:e.target.value})},autoFocus:!0,name:"title",id:"question-title",className:"form-control form-control-lg form-control-title",type:"text",placeholder:"",autoComplete:"off",value:j.title.value}),r.a.createElement(ee.a,{in:j.title.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0},r.a.createElement("div",{className:"alert alert-danger small liveValidateMessage"},j.title.message))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"post-body",className:"text-muted mb-1 d-block"},r.a.createElement("small",null,"Question")),r.a.createElement("textarea",{onChange:function(e){return k({type:"bodyImmediately",value:e.target.value})},name:"body",id:"post-body",className:"body-content tall-textarea form-control",type:"text",value:j.body.value}),r.a.createElement(ee.a,{in:j.body.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0},r.a.createElement("div",{className:"alert alert-danger small liveValidateMessage"},j.body.message))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"correct-answer",className:"text-muted mb-1"},r.a.createElement("small",null,"Correct Answer")),r.a.createElement("input",{onChange:function(e){return k({type:"correctAnswerImmediately",value:e.target.value})},autoFocus:!0,name:"Correct Answer",id:"correct-answer",className:"form-control form-control-lg form-control-title",type:"text",placeholder:"",autoComplete:"off",value:j.answer.value}),r.a.createElement(ee.a,{in:j.answer.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0},r.a.createElement("div",{className:"alert alert-danger small liveValidateMessage"},j.answer.message))),r.a.createElement("label",{htmlFor:"correct-answer",className:"text-muted mb-1"},r.a.createElement("small",null,"Difficulty")),r.a.createElement(te,{selectItem:l}),r.a.createElement(ee.a,{in:j.difficulty.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0},r.a.createElement("div",{className:"alert alert-danger small liveValidateMessage"},j.difficulty.message)),r.a.createElement("label",{htmlFor:"correct-answer",className:"text-muted mb-1"},r.a.createElement("small",null,"Answer alternatives")),r.a.createElement(ne,{items:m,setItems:f}),r.a.createElement(ee.a,{in:j.answerOptions.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0},r.a.createElement("div",{className:"alert alert-danger small liveValidateMessage"},j.answerOptions.message)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"answer-options",className:"text-muted mb-1"},r.a.createElement("small",null,"Add an answer option")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col mb-2"},r.a.createElement("input",{onChange:function(e){return y(e.target.value)},autoFocus:!0,name:"Answer Option",id:"answer-options",className:"form-control form-control-lg form-control-title",type:"text",placeholder:"",autoComplete:"off"})),r.a.createElement("div",{className:"col mb-2"},r.a.createElement("button",{className:"btn btn-success",disabled:0===E.length,onClick:function(e){e.preventDefault(),f(m.concat(E)),y(""),document.getElementById("answer-options").value=""}},"+")))),r.a.createElement("button",{disabled:!j.isChanged,className:"btn btn-primary"},"Edit Question")))})),ce=function(){var e={loggedIn:Boolean(localStorage.getItem("quizappUsername")),flashMessages:[],user:{token:localStorage.getItem("quizappToken"),username:localStorage.getItem("quizappUsername"),email:localStorage.getItem("quizappEmail"),id:localStorage.getItem("quizappId"),avatar:localStorage.getItem("quizappAvatar")}};var t=Object(M.a)((function(e,t){switch(t.type){case"login":e.user.username=t.value.username,e.user.email=t.value.email,e.user.id=t.value.id,e.loggedIn=!0;break;case"logout":e.loggedIn=!1;break;case"flashMessage":e.flashMessages.push(t.value);break;default:console.log("nutin")}}),e),a=Object(o.a)(t,2),s=a[0],l=a[1];return Object(n.useEffect)((function(){s.loggedIn?(localStorage.setItem("quizappUsername",s.user.username),localStorage.setItem("quizappId",s.user.id),localStorage.setItem("quizappEmail",s.user.email)):(localStorage.removeItem("quizappUsername"),localStorage.removeItem("quizappId"),localStorage.removeItem("quizappEmail"))}),[s.loggedIn]),r.a.createElement(i.Provider,{value:s},r.a.createElement(c.Provider,{value:l},r.a.createElement(u.a,null,r.a.createElement(le,{messages:s.flashMessages}),r.a.createElement(S,null),r.a.createElement(H.c,null,r.a.createElement(H.a,{path:"/",exact:!0},r.a.createElement(Y,null)),r.a.createElement(H.a,{path:"/question/:id/edit",exact:!0},r.a.createElement(ue,null)),r.a.createElement(H.a,{path:"/create-question"},r.a.createElement(re,null)),r.a.createElement(H.a,{path:"/profile"},r.a.createElement(G,null)),r.a.createElement(H.a,{path:"/sign-up"},r.a.createElement(se,null)),r.a.createElement(H.a,null,r.a.createElement(oe,null))),r.a.createElement(D,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[38,1,2]]]);
//# sourceMappingURL=main.7119a3a5.chunk.js.map