(this["webpackJsonpquiz-app-frontend"]=this["webpackJsonpquiz-app-frontend"]||[]).push([[0],{38:function(e,t,a){e.exports=a(75)},47:function(e,t,a){},48:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){e.exports=a.p+"static/media/overview.16b05206.svg"},75:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(15),l=a.n(s),o=(a(43),a(46),a(47),a(3)),u=a(4),i=(a(48),Object(n.createContext)()),c=a(1),m=a.n(c),d=a(2),p=a(7),f=a.n(p);f.a.defaults.withCredentials=!1,console.log("ENV: ","development"),f.a.defaults.baseURL="http://localhost:3000/api/v1";var v=function(){var e=Object(d.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/questions/".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(d.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/users/does-email-exist/".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(d.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/users/does-username-exist/".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(d.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post("/questions/does-question-exist",{title:t},{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(d.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Answering question:",t),e.prev=1,e.next=4,f.a.post("/questions/".concat(t.id),{answer:t.answer},{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 4:return a=e.sent,e.abrupt("return",a.data);case 8:return e.prev=8,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return","not logged in");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(d.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/users/me/questions",{withCredentials:!0,"Content-Type":"application/json"});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(d.a)(m.a.mark((function e(t,a,n,r,s){var l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Sending",t,a,n,r,s),e.next=4,f.a.post("/questions",t,a,n,r,s,{withCredentials:!0,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 4:return l=e.sent,console.log("response:",l),e.abrupt("return",l.data);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a,n,r,s){return e.apply(this,arguments)}}(),O=function(){var e=Object(d.a)(m.a.mark((function e(t){var a,n,r,s,l,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.title,n=t.question,r=t.correctAnswer,s=t.difficulty,l=t.answerOptions,console.log("Sending",t.id,a,n,r,l,s),e.next=9,f()({method:"PATCH",url:"/users/me/questions/".concat(t.id),data:{title:a,question:n,correctAnswer:r,answerOptions:l,difficulty:s},withCredentials:!0,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 9:return o=e.sent,console.log("response:",o),e.abrupt("return",o.data);case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(d.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Deleting",t),e.next=4,f()({method:"DELETE",url:"/users/me/questions/".concat(t),withCredentials:!0,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 4:return a=e.sent,console.log("response:",a),e.abrupt("return",a.data);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(d.a)(m.a.mark((function e(t,a,n,r){var s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("signup"),e.next=4,f.a.post("/users/signup",t,a,n,r);case 4:return s=e.sent,e.abrupt("return",s.data);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a,n,r){return e.apply(this,arguments)}}(),C=function(){var e=Object(d.a)(m.a.mark((function e(t,a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post("/users/login",{email:t,password:a},{withCredentials:!0,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log("API not responding"),console.log(e.t0),e.abrupt("return",{status:"failed"});case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),j=function(){var e=Object(d.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/users/me",{withCredentials:!0,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log("API not responding"),console.log(e.t0),e.abrupt("return",{status:"failed"});case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(d.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/questions/random");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log("API not responding"),console.log(e.t0),e.abrupt("return",{status:"failed"});case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),q=Object(n.createContext)(),A=function(e){var t=Object(n.useContext)(q),a=Object(n.useState)(""),s=Object(o.a)(a,2),l=s[0],i=s[1],c=Object(n.useState)(""),p=Object(o.a)(c,2),f=p[0],v=p[1],b=function(){var e=Object(d.a)(m.a.mark((function e(a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,C(l,f);case 3:"success"===(n=e.sent).status&&(t({type:"login",value:{username:n.data.user.name,email:n.data.user.email,id:n.data.user._id}}),t({type:"flashMessage",value:"Successfully logged in!"}),console.log("logged in"));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{onSubmit:b,className:"mb-0 pt-2 pt-md-0"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md mr-0 pr-md-0 mb-3 mb-md-0"},r.a.createElement("input",{type:"text",onChange:function(e){return i(e.target.value)},name:"Username",value:l,className:"form-control form-control-sm input-dark",placeholder:"Email",autoComplete:"off"})),r.a.createElement("div",{className:"col-md mr-0 pr-md-0 mb-3 mb-md-0"},r.a.createElement("input",{type:"password",name:"password",onChange:function(e){return v(e.target.value)},value:f,className:"form-control form-control-sm input-dark",placeholder:"Password"})),r.a.createElement("div",{className:"col-md-auto mr-0 pr-md-0 mb-3 mb-md-0"},r.a.createElement("button",{className:"btn btn-success btn-sm"},"Sign In")),r.a.createElement("div",{className:"col-md-auto"},r.a.createElement(u.b,{className:"btn btn-secondary btn-sm",to:"/sign-up"},"Sign Up"))))},I=a(5),S=function(){var e=Object(n.useContext)(q),t=Object(I.f)(),a=function(){var a=Object(d.a)(m.a.mark((function a(n){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n.preventDefault(),e({type:"logout"}),e({type:"flashMessage",value:"Successfully logged out!"}),t.push("/");case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement("div",{className:"flex-row my-3 my-md-0"},r.a.createElement(u.b,{className:"btn btn-sm btn-success mr-2",to:"/create-question"},"Create Question")," ",r.a.createElement(u.b,{className:"btn btn-sm btn-success mr-2",to:"/profile"},"Profile")," ",r.a.createElement("button",{onClick:a,className:"btn btn-sm btn-secondary"},"Sign out"))},T=function(){var e=Object(n.useContext)(i);return r.a.createElement("header",{className:"header-bar mb-3 navbar-custom"},r.a.createElement("div",{className:"container d-flex flex-column flex-md-row align-items-center p-3"},r.a.createElement("h4",{className:"my-0 mr-md-auto font-weight-normal"},r.a.createElement(u.b,{to:"/",className:"text-white"},"QuizApp")),e.loggedIn?r.a.createElement(S,null):r.a.createElement(A,null)))};a(70);var M=function(){return r.a.createElement("div",{className:"footer-custom"},r.a.createElement("footer",{className:"border-top text-center small text-muted"},r.a.createElement("p",{className:"mt-3"},r.a.createElement(u.b,{to:"/",className:"mx-1"},"Home")," ","|",r.a.createElement(u.b,{className:"mx-1",to:"/about-QuizApp"},"About QuizApp")," ","|",r.a.createElement(u.b,{className:"mx-1",to:"/terms"},"Terms")),r.a.createElement("p",{className:"m-0"},"Copyright \xa9 2020"," ",r.a.createElement("a",{href:"/",className:"text-muted"},"QuizApp"),". All rights reserved.")))},D=a(11),Q=a(18);a(71),a(72);var F=function(){return r.a.createElement("div",{className:"dots-loading"},r.a.createElement("div",null))},U=function(){var e=Object(D.a)((function(e,t){switch(t.type){case"setQuestion":e.title.value=t.value.title,e.body.value=t.value.body,e.difficulty.value=t.value.difficulty,e.answer.value=t.value.answer,e.answerOptions.value=t.value.answerOptions,e.id=t.value.id;break;case"generateAnswers":e.generatedAnswers.value=function(e){var t,a,n=e.length;for(;0!==n;)a=Math.floor(Math.random()*n),t=e[n-=1],e[n]=e[a],e[a]=t;return e}([].concat(Object(Q.a)(t.value.answerOptions),[t.value.correctAnswer]));break;case"correctlyAnswered":e.answeredCorrectly=t.value;break;case"setIndex":e.index=t.value;break;case"reset":e.title.value="",e.body.value="",e.difficulty.value="",e.answer.value="",e.answerOptions.value=[],e.difficulty.value="",e.generatedAnswers.value=[],e.id="",e.answeredCorrectly=null,e.index=null;break;case"submitForm":console.log("increase count"),e.submitCount++}}),{title:{value:""},body:{value:""},difficulty:{value:""},answer:{value:""},answerOptions:{value:[]},generatedAnswers:{value:[]},id:"",answeredCorrectly:null,index:null,submitCount:0}),t=Object(o.a)(e,2),a=t[0],s=t[1];Object(n.useEffect)((function(){(console.log("getting new q"),a.submitCount>0||""===a.title.value)&&function(){var e=Object(d.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:(t=e.sent)?(s({type:"reset",value:null}),s({type:"setQuestion",value:{title:t.data.data[0].title,body:t.data.data[0].question,difficulty:t.data.data[0].difficulty,answer:t.data.data[0].correctAnswer,answerOptions:t.data.data[0].answerOptions,id:t.data.data[0]._id}}),s({type:"generateAnswers",value:{answerOptions:t.data.data[0].answerOptions,correctAnswer:t.data.data[0].correctAnswer}})):console.log("Couldn't fetch any question");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[a.submitCount]),Object(n.useEffect)((function(){(function(){var e=Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),a.generatedAnswers.length);var l=function(){var e=Object(d.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=parseInt(t.target.id.split("-").pop()),r=a.generatedAnswers.value[n],s({type:"correctlyAnswered",value:r===a.answer.value}),s({type:"setIndex",value:n}),u(r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(e){(function(){var t=Object(d.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y({id:a.id,answer:e});case 2:n=t.sent,console.log(n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()();var t=setTimeout((function(){s({type:"submitForm",value:null})}),2e3);return function(){return clearTimeout(t)}};return r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("div",{className:"question-app"},""!==a.title.value&&r.a.createElement("div",{className:"question-section"},r.a.createElement("div",{className:"question-count"},r.a.createElement("span",{style:{fontSize:"5vw"}},a.title.value)," ",r.a.createElement("span",{className:"topcorner",style:{fontSize:"2vw"}},a.difficulty.value)),r.a.createElement("div",{className:"question-text"},a.body.value)),""===a.title.value&&r.a.createElement(F,null))),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("div",{className:"answer-section"},a.generatedAnswers.value&&a.generatedAnswers.value.map((function(e,t){return r.a.createElement("button",{key:t,id:"button-".concat(t),className:a.answeredCorrectly&&null!=a.answeredCorrectly&&a.index===t?"question-button-correct":a.answeredCorrectly||null==a.answeredCorrectly||a.index!==t?"question-button":"question-button-wrong",value:e,onClick:l},e)})))),r.a.createElement("div",{style:{height:"12rem"}}," "))},V=function(){return r.a.createElement("div",null,r.a.createElement(U,null))};var z=function(e){var t=e.index,a=e.questions,s=e.setQuestions,l=Object(n.useContext)(q),i=e.question,c=i.difficulty,p=i.timesAnswered,f=i.timesCorrectAnswered,v=Object(D.a)((function(e,t){switch(t.type){case"deleteRequest":e.deleteRequest=!0;break;case"CancelRequest":e.deleteRequest=!1;break;case"Delete":e.deleteRequest&&e.submitCount++}}),{deleteRequest:!1,submitCount:0}),b=Object(o.a)(v,2),g=b[0],h=b[1];return Object(n.useEffect)((function(){g.submitCount>0&&function(){var e=Object(d.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(i._id);case 2:t=e.sent;try{console.log("resp:",t),"success"===t.status&&l({type:"flashMessage",value:"You have deleted one of your questions!"})}catch(a){console.log(a)}return e.abrupt("return");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[g.submitCount]),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col-md-12 mb-3"},r.a.createElement("div",{className:"row d-flex align-items-center"},r.a.createElement(u.b,{onClick:e.onClick,to:"/question/".concat(i._id,"/edit"),className:"list-group-item list-group-item-action col mb-2"},r.a.createElement("strong",null,i.title)," \xa0\xa0\xa0\xa0",r.a.createElement("span",{className:"text-muted small mr-10"},r.a.createElement(r.a.Fragment,null,"Difficulty: ",c,", Answered ",p," times")," ","and Correctly answered ",f,"")),r.a.createElement("div",{className:"col mb-2 align-middle"},g.deleteRequest&&r.a.createElement("div",{className:"row d-flex align-items-center"},r.a.createElement("div",{className:"ml-2"},r.a.createElement("button",{className:"btn btn-success",onClick:function(e){e.preventDefault();var n=a;n.splice(t,1),s(n),h({type:"Delete",value:!0}),console.log("index:",t),console.log("qs:",a)}},"\u2713")),r.a.createElement("div",{className:"ml-2"},r.a.createElement("button",{className:"btn btn-danger",onClick:function(e){e.preventDefault(),h({type:"CancelRequest",value:!1})}},"X"))),!g.deleteRequest&&r.a.createElement("button",{className:"btn btn-danger ",onClick:function(e){e.preventDefault(),h({type:"deleteRequest",value:!0})}},"X")))))};var R=function(e){Object(n.useContext)(i);var t=Object(n.useState)(!0),a=Object(o.a)(t,2),s=a[0],l=a[1],c=Object(n.useState)([]),p=Object(o.a)(c,2),f=p[0],v=p[1];return Object(n.useEffect)((function(){(function(){var e=Object(d.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:(t=e.sent)?(a=t.data.data,console.log("Questions",a),v(a)):console.log("no questions for this user"),l(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),s?r.a.createElement(F,null):r.a.createElement("div",{className:"list-group"},f.length>0&&f.map((function(e,t){return r.a.createElement(z,{question:e,questions:f,key:e._id,index:t,setQuestions:v})})),0===f.length&&r.a.createElement("p",{className:"lead text-muted text-center"},"You haven\u2019t created any question yet;"," ",r.a.createElement(u.b,{to:"/create-question"},"create one now!")),0===f.length&&r.a.createElement("p",{className:"lead text-muted text-center"},"No questions created yet."))};var P=function(e){return r.a.createElement("div",{className:"container py-md-5 mb-5"+(e.wide?"":"container--narrow")},e.children)};var L=function(e){return Object(n.useEffect)((function(){document.title="".concat(e.title," | QuizApp"),window.scrollTo(0,0)}),[e.title]),r.a.createElement(P,{wide:e.wide},e.children)};var W=function(e){Object(n.useContext)(i);var t=Object(n.useState)(!0),a=Object(o.a)(t,2),s=a[0],l=a[1],u=Object(n.useState)([]),c=Object(o.a)(u,2),p=c[0],f=c[1];return Object(n.useEffect)((function(){(function(){var e=Object(d.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:(t=e.sent)?(a=t.data.data,console.log("Questions",a.userScore.answeredQuestions),f(a.userScore.answeredQuestions)):console.log("no questions for this user"),l(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),s?r.a.createElement(F,null):r.a.createElement("div",{className:"list-group"},p.length>0&&p.map((function(e,t){return r.a.createElement("div",null,e)})),0===p.length&&r.a.createElement("p",{className:"lead text-muted text-center"},"You haven\u2019t answered any questions yet."))},_=function(){var e=Object(n.useContext)(i),t=Object(n.useState)(!0),a=Object(o.a)(t,2),s=a[0],l=a[1],c=Object(n.useState)(NaN),p=Object(o.a)(c,2),f=p[0],v=p[1];return Object(n.useEffect)((function(){(function(){var e=Object(d.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:"success"===(t=e.sent).status?(a=t.data.data,v(a.userScore.score)):(console.log("no info for this user"),v(0)),l(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(L,{title:"Profile Screen"},r.a.createElement("div",{className:"row d-flex align-items-center"},r.a.createElement("h2",null,e.user.username),"\xa0\xa0\xa0\xa0",r.a.createElement("div",null,"Score:"),"\xa0",r.a.createElement("div",null,s&&r.a.createElement(F,null)),r.a.createElement("div",null,!s&&f)),r.a.createElement("div",{className:"profile-nav nav nav-tabs pt-2 mb-4"},r.a.createElement(u.c,{exact:!0,to:"/profile",className:"nav-item nav-link"},"My Questions: "),r.a.createElement(u.c,{to:"/profile/answered-questions",className:"nav-item nav-link"},"Answered Questions: ")),r.a.createElement(I.c,null,r.a.createElement(I.a,{exact:!0,path:"/profile"},r.a.createElement(R,null)),r.a.createElement(I.a,{path:"/profile/answered-questions"},r.a.createElement(W,null))))},B=a(76);var Y=function(e){var t=e.selectItem;return r.a.createElement("div",{className:"row mb-3"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("select",{onChange:function(e){e.preventDefault(),t(e.target.value)},className:"custom-select my-select"},r.a.createElement("option",{value:"easy"},"Easy"),r.a.createElement("option",{value:"medium"},"Medium"),r.a.createElement("option",{value:"hard"},"Hard"))))};var J=function(e){var t=e.items,a=e.setItems;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col-md-12 mb-3"},t.map((function(e,n){return r.a.createElement("div",{className:"row",key:n},r.a.createElement("div",{className:"col mb-2"},e),r.a.createElement("div",{className:"col mb-2"},r.a.createElement("button",{className:"btn btn-danger",disabled:0===t.length,onClick:function(e){return function(e,n){e.preventDefault();var r=Object(Q.a)(t);r.splice(r.findIndex((function(e){return e.id===n})),1),a(r)}(e,n)}},"X")))}))))};var H=Object(I.h)((function(e){var t=Object(n.useState)("easy"),a=Object(o.a)(t,2),s=a[0],l=a[1],u=Object(n.useState)([]),i=Object(o.a)(u,2),c=i[0],p=i[1],f=Object(n.useState)(""),v=Object(o.a)(f,2),b=v[0],g=v[1],y=Object(n.useContext)(q),E=Object(D.a)((function(e,t){switch(t.type){case"titleImmediately":e.title.hasErrors=!1,e.title.value=t.value,e.title.value.length>100?(e.title.hasErrors=!0,e.title.message="Title is to long"):e.title.value.length<=10?(e.title.hasErrors=!0,e.title.message="Question title is to short"):0===e.title.value.length&&(e.title.hasErrors=!0,e.title.message="Question must have a title");break;case"titleUniqueResults":t.value?(e.title.hasErrors=!0,e.title.isUnique=!1,e.title.message="Question with that title already exist"):e.title.isUnique=!0;break;case"bodyImmediately":e.body.hasErrors=!1,e.body.value=t.value,e.body.value.length>500&&(e.body.hasErrors=!0,e.body.message="Question is to long");break;case"bodyAfterDelay":e.body.value.length<10&&(e.body.hasErrors=!0,e.body.message="Question is to short");break;case"difficultyImmediately":e.difficulty.hasErrors=!1,e.difficulty.value=t.value,["easy","medium","hard"].includes(e.difficulty.value)||(e.difficulty.hasErrors=!0,e.difficulty.message="Define difficulty");break;case"correctAnswerImmediately":e.answer.hasErrors=!1,e.answer.value=t.value,e.answer.value||(e.answer.hasErrors=!0,e.answer.message="Define the correct answer"),e.answer.value.length>50&&(e.answer.hasErrors=!0,e.answer.message="Answer is to long");break;case"answerOptionsImmediately":e.answerOptions.hasErrors=!1,e.answerOptions.value=t.value,0===e.answerOptions.value.length&&e.submitCount>0&&(e.answerOptions.hasErrors=!0,e.answerOptions.message="Define the answer options"),e.answerOptions.value.length>3&&(e.answerOptions.hasErrors=!0,e.answerOptions.message="To many answer options"),e.answerOptions.value.forEach((function(t){t.length>50&&(e.answerOptions.hasErrors=!0,e.answerOptions.message="One of your answer options is to long")}));break;case"submitForm":e.title.hasErrors||!e.title.isUnique||e.body.hasErrors||e.difficulty.hasErrors||e.answer.hasErrors||e.answerOptions.hasErrors||e.submitCount++}}),{title:{value:"",hasErrors:!1,message:"",isUnique:!1,checkCount:0},body:{value:"",hasErrors:!1,message:"",checkCount:0},difficulty:{value:"",hasErrors:!1,message:""},answer:{value:"",hasErrors:!1,message:""},answerOptions:{value:[],hasErrors:!1,message:""},submitCount:0}),O=Object(o.a)(E,2),x=O[0],N=O[1];return Object(n.useEffect)((function(){if(x.body.value){var e=setTimeout((function(){return N({type:"bodyAfterDelay"})}),800);return function(){return clearTimeout(e)}}}),[x.body.value]),Object(n.useEffect)((function(){N({type:"difficultyImmediately",value:s})}),[s]),Object(n.useEffect)((function(){N({type:"answerOptionsImmediately",value:c})}),[c]),Object(n.useEffect)((function(){if(x.title.value){var e=setTimeout((function(){(function(){var e=Object(d.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(x.title.value);case 2:t=e.sent,N({type:"titleUniqueResults",value:"OK"!==t.data.message});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),1500);return function(){return clearTimeout(e)}}}),[x.title.value]),Object(n.useEffect)((function(){x.submitCount&&function(){var e=Object(d.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w({title:x.title.value,question:x.body.value,correctAnswer:x.answer.value,answerOptions:x.answerOptions.value,difficulty:x.difficulty.value});case 2:t=e.sent,console.log("resp:",t),"success"===t.status&&y({type:"flashMessage",value:"You created a new question!"});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[x.submitCount]),r.a.createElement(L,{title:"Create New Question"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),N({type:"titleImmediately",value:x.title.value}),N({type:"bodyImmediately",value:x.body.value}),N({type:"bodyAfterDelay",value:x.body.value}),N({type:"difficultyImmediately",value:x.difficulty.value}),N({type:"correctAnswerImmediately",value:x.answer.value}),N({type:"answerOptionsImmediately",value:x.answerOptions.value}),N({type:"submitForm"})}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"question-title",className:"text-muted mb-1"},r.a.createElement("small",null,"Title")),r.a.createElement("input",{onChange:function(e){return N({type:"titleImmediately",value:e.target.value})},autoFocus:!0,name:"title",id:"question-title",className:"form-control form-control-lg form-control-title",type:"text",placeholder:"",autoComplete:"off"}),r.a.createElement(B.a,{in:x.title.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0},r.a.createElement("div",{className:"alert alert-danger small liveValidateMessage"},x.title.message))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"post-body",className:"text-muted mb-1 d-block"},r.a.createElement("small",null,"Question")),r.a.createElement("textarea",{onChange:function(e){return N({type:"bodyImmediately",value:e.target.value})},name:"body",id:"post-body",className:"body-content tall-textarea form-control",type:"text"}),r.a.createElement(B.a,{in:x.body.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0},r.a.createElement("div",{className:"alert alert-danger small liveValidateMessage"},x.body.message))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"correct-answer",className:"text-muted mb-1"},r.a.createElement("small",null,"Correct Answer")),r.a.createElement("input",{onChange:function(e){return N({type:"correctAnswerImmediately",value:e.target.value})},autoFocus:!0,name:"Correct Answer",id:"correct-answer",className:"form-control form-control-lg form-control-title",type:"text",placeholder:"",autoComplete:"off"}),r.a.createElement(B.a,{in:x.answer.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0},r.a.createElement("div",{className:"alert alert-danger small liveValidateMessage"},x.answer.message))),r.a.createElement("label",{htmlFor:"correct-answer",className:"text-muted mb-1"},r.a.createElement("small",null,"Difficulty")),r.a.createElement(Y,{selectItem:l}),r.a.createElement(B.a,{in:x.difficulty.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0},r.a.createElement("div",{className:"alert alert-danger small liveValidateMessage"},x.difficulty.message)),r.a.createElement("label",{htmlFor:"correct-answer",className:"text-muted mb-1"},r.a.createElement("small",null,"Answer alternatives")),r.a.createElement(J,{items:c,setItems:p}),r.a.createElement(B.a,{in:x.answerOptions.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0},r.a.createElement("div",{className:"alert alert-danger small liveValidateMessage"},x.answerOptions.message)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"answer-options",className:"text-muted mb-1"},r.a.createElement("small",null,"Add an answer option")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col mb-2"},r.a.createElement("input",{onChange:function(e){return g(e.target.value)},autoFocus:!0,name:"Answer Option",id:"answer-options",className:"form-control form-control-lg form-control-title",type:"text",placeholder:"",autoComplete:"off"})),r.a.createElement("div",{className:"col mb-2"},r.a.createElement("button",{className:"btn btn-success",disabled:0===b.length,onClick:function(e){e.preventDefault(),p(c.concat(b)),g(""),document.getElementById("answer-options").value=""}},"+")))),r.a.createElement("button",{className:"btn btn-primary"},"Create New Question")))}));a(73);var K=function(){var e=Object(n.useContext)(q),t=Object(I.f)(),a=Object(D.a)((function(e,t){switch(t.type){case"usernameImmediately":e.username.hasErrors=!1,e.username.value=t.value,e.username.value.length>30&&(e.username.hasErrors=!0,e.username.message="Username to long"),e.username.value&&!/^([a-zA-Z0-9]+)$/.test(e.username.value)&&(e.username.hasErrors=!0,e.username.message="Username can only contain letters and numbers");break;case"usernameAfterDelay":e.username.value.length<3&&(e.username.hasErrors=!0,e.username.message="needs more than 3 chars"),e.hasErrors||t.noRequest||e.username.checkCount++;break;case"usernameUniqueResults":t.value?(e.username.hasErrors=!0,e.username.isUnique=!1,e.username.message="user exist"):e.username.isUnique=!0;break;case"emailImmediately":e.email.hasErrors=!1,e.email.value=t.value;break;case"emailAfterDelay":/^\S+@\S+$/.test(e.email.value)||(e.email.hasErrors=!0,e.email.message="Invalid email"),e.email.hasErrors||t.noRequest||e.email.checkCount++;break;case"emailUniqueResults":t.value?(e.email.hasErrors=!0,e.email.isUnique=!1,e.email.message="Email is already in use"):e.email.isUnique=!0;break;case"passwordImmediately":e.password.hasErrors=!1,e.password.value=t.value,e.password.value.length>12&&(e.password.hasErrors=!0,e.password.message="Password to long");break;case"passwordAfterDelay":e.password.value.length<6&&(e.password.hasErrors=!0,e.password.message="password to short");break;case"passwordConfirmImmediately":e.passwordConfirm.hasErrors=!1,e.passwordConfirm.value=t.value,e.passwordConfirm.value.length>12&&(e.passwordConfirm.hasErrors=!0,e.passwordConfirm.message="Password to long");break;case"passwordConfirmAfterDelay":e.passwordConfirm.value.length<6?(e.passwordConfirm.hasErrors=!0,e.passwordConfirm.message="password to short"):e.passwordConfirm.value!==e.password.value&&(e.passwordConfirm.hasErrors=!0,e.passwordConfirm.message="passwords do not match!");break;case"submitForm":e.username.hasErrors||!e.username.isUnique||e.email.hasErrors||!e.email.isUnique||e.password.hasErrors||e.passwordConfirm.hasErrors||e.submitCount++}}),{username:{value:"",hasErrors:!1,message:"",isUnique:!1,checkCount:0},email:{value:"",hasErrors:!1,message:"",isUnique:!1,checkCount:0},password:{value:"",hasErrors:!1,message:""},passwordConfirm:{value:"",hasErrors:!1,message:""},submitCount:0}),s=Object(o.a)(a,2),l=s[0],u=s[1];return Object(n.useEffect)((function(){if(l.username.value){var e=setTimeout((function(){return u({type:"usernameAfterDelay"})}),800);return function(){return clearTimeout(e)}}}),[l.username.value]),Object(n.useEffect)((function(){if(l.email.value){var e=setTimeout((function(){return u({type:"emailAfterDelay"})}),800);return function(){return clearTimeout(e)}}}),[l.email.value]),Object(n.useEffect)((function(){if(l.password.value){var e=setTimeout((function(){return u({type:"passwordAfterDelay"})}),800);return function(){return clearTimeout(e)}}}),[l.password.value]),Object(n.useEffect)((function(){if(l.passwordConfirm.value){var e=setTimeout((function(){return u({type:"passwordConfirmAfterDelay"})}),800);return function(){return clearTimeout(e)}}}),[l.passwordConfirm.value]),Object(n.useEffect)((function(){l.username.checkCount&&function(){var e=Object(d.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(l.username.value);case 2:t=e.sent,console.log("hello"),u({type:"usernameUniqueResults",value:"OK"!==t.data.message});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[l.username.checkCount]),Object(n.useEffect)((function(){l.email.checkCount&&function(){var e=Object(d.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(l.email.value);case 2:t=e.sent,u({type:"emailUniqueResults",value:"OK"!==t.data.message});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[l.email.checkCount]),Object(n.useEffect)((function(){l.submitCount&&function(){var a=Object(d.a)(m.a.mark((function a(){var n;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,N({name:l.username.value,email:l.email.value,password:l.password.value,passwordConfirm:l.passwordConfirm.value});case 2:"success"===(n=a.sent).status&&(e({type:"login",value:{username:n.data.user.name,email:n.data.user.email,id:n.data.user._id}}),e({type:"flashMessage",value:"Welcome to your new account!"}),t.push("/profile"));case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()()}),[l.submitCount]),r.a.createElement(L,{title:"Sign up",wide:!1},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-lg-7 py-3 py-md-5"},r.a.createElement("h2",null,"Sign up!"),r.a.createElement("p",{className:"lead text-muted"},"Create a user to create questions on your own and keep track of your score!")),r.a.createElement("div",{className:"col-lg-5 pl-lg-5 pb-3 py-lg-5"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),u({type:"usernameImmediately",value:l.username.value}),u({type:"usernameAfterDelay",value:l.username.value,noRequest:!0}),u({type:"emailImmediately",value:l.email.value}),u({type:"emailAfterDelay",value:l.email.value,noRequest:!0}),u({type:"passwordImmediately",value:l.password.value}),u({type:"passwordAfterDelay",value:l.password.value}),u({type:"passwordConfirmImmediately",value:l.passwordConfirm.value}),u({type:"passwordConfirmAfterDelay",value:l.passwordConfirm.value}),u({type:"submitForm"})}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username-register",className:"text-muted mb-1"},r.a.createElement("small",null,"Username")),r.a.createElement("input",{onChange:function(e){return u({type:"usernameImmediately",value:e.target.value})},id:"username-register",name:"username",className:"form-control",type:"text",placeholder:"Pick a username",autoComplete:"off"}),r.a.createElement(B.a,{in:l.username.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0},r.a.createElement("div",{className:"alert alert-danger small liveValidateMessage"},l.username.message))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email-register",className:"text-muted mb-1"},r.a.createElement("small",null,"Email")),r.a.createElement("input",{onChange:function(e){return u({type:"emailImmediately",value:e.target.value})},id:"email-register",name:"email",className:"form-control",type:"text",placeholder:"you@example.com",autoComplete:"off"}),r.a.createElement(B.a,{in:l.email.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0},r.a.createElement("div",{className:"alert alert-danger small liveValidateMessage"},l.email.message))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password-register",className:"text-muted mb-1"},r.a.createElement("small",null,"Password")),r.a.createElement("input",{onChange:function(e){return u({type:"passwordImmediately",value:e.target.value})},id:"password-register",name:"password",className:"form-control",type:"password",placeholder:"Create a password"}),r.a.createElement(B.a,{in:l.password.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0},r.a.createElement("div",{className:"alert alert-danger small liveValidateMessage"},l.password.message))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password-register-confirm",className:"text-muted mb-1"},r.a.createElement("small",null,"Password Confirm")),r.a.createElement("input",{onChange:function(e){return u({type:"passwordConfirmImmediately",value:e.target.value})},id:"password-register-confirm",name:"password",className:"form-control",type:"password",placeholder:"Confirm password"}),r.a.createElement(B.a,{in:l.passwordConfirm.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0},r.a.createElement("div",{className:"alert alert-danger small liveValidateMessage"},l.passwordConfirm.message))),r.a.createElement("button",{type:"submit",className:"py-3 mt-4 btn btn-lg btn-success btn-block"},"Sign up for QuizApp")))))};var X=function(e){return r.a.createElement("div",{className:"floating-alerts"},e.messages.map((function(e,t){return r.a.createElement("div",{key:t,className:"alert alert-success text-center floating-alert shadow-sm"},e)})))};var $=function(){return r.a.createElement(L,{title:"Not Found"},r.a.createElement("div",{className:"text-center"},r.a.createElement("h2",null,"Whoops, we cannot find that page."),r.a.createElement("p",{className:"lead text-muted"},"You can always visit the ",r.a.createElement(u.b,{to:"/"},"homepage")," to get a fresh start.")))};var Z=Object(I.h)((function(e){var t=Object(n.useState)("easy"),a=Object(o.a)(t,2),s=a[0],l=a[1],u=Object(n.useState)([]),i=Object(o.a)(u,2),c=i[0],p=i[1],f=Object(n.useState)(""),b=Object(o.a)(f,2),g=b[0],y=b[1],E=Object(n.useContext)(q),w=Object(I.g)().id,x=Object(D.a)((function(e,t){switch(t.type){case"titleImmediately":e.title.hasErrors=!1,e.title.value=t.value,e.title.value.length>100?(e.title.hasErrors=!0,e.title.message="Title is to long"):e.title.value.length<=10?(e.title.hasErrors=!0,e.title.message="Question title is to short"):0===e.title.value.length&&(e.title.hasErrors=!0,e.title.message="Question must have a title");break;case"titleUniqueResults":t.value?e.title.isUnique=!0:(e.title.hasErrors=!0,e.title.isUnique=!1,e.title.message="Question with that title already exist");break;case"bodyImmediately":e.body.hasErrors=!1,e.body.value=t.value,e.body.value.length>500&&(e.body.hasErrors=!0,e.body.message="Question is to long");break;case"bodyAfterDelay":e.body.value.length<10&&(e.body.hasErrors=!0,e.body.message="Question is to short");break;case"difficultyImmediately":e.difficulty.hasErrors=!1,e.difficulty.value=t.value,["easy","medium","hard"].includes(e.difficulty.value)||(e.difficulty.hasErrors=!0,e.difficulty.message="Define difficulty");break;case"correctAnswerImmediately":e.answer.hasErrors=!1,e.answer.value=t.value,e.isChanged=!1,e.answer.value||(e.answer.hasErrors=!0,e.answer.message="Define the correct answer");break;case"answerOptionsImmediately":e.answerOptions.hasErrors=!1,e.answerOptions.value=t.value,0===e.answerOptions.value.length&&e.submitCount>0?(e.answerOptions.hasErrors=!0,e.answerOptions.message="Define the answer options"):e.answerOptions.value.length>3&&(e.answerOptions.hasErrors=!0,e.answerOptions.message="To many answer options");break;case"initialState":e.initialState.title=t.value.title,e.initialState.body=t.value.question,e.initialState.difficulty=t.value.difficulty,e.initialState.answer=t.value.correctAnswer,e.initialState.answerOptions=t.value.answerOptions;break;case"Loading":e.isLoading=t.value;break;case"QuestionFound":e.questionFound=t.value;break;case"QuestionChanged":e.isChanged=t.value;break;case"submitForm":e.title.hasErrors||!e.title.isUnique||e.body.hasErrors||e.difficulty.hasErrors||e.answer.hasErrors||e.answerOptions.hasErrors||e.submitCount++}}),{initialState:{title:"",body:"",difficulty:"",answer:"",answerOptions:""},title:{value:"",hasErrors:!1,message:"",isUnique:!0,checkCount:0},body:{value:"",hasErrors:!1,message:"",checkCount:0},difficulty:{value:"",hasErrors:!1,message:""},answer:{value:"",hasErrors:!1,message:""},answerOptions:{value:"",hasErrors:!1,message:""},isLoading:!0,questionFound:!1,isChanged:!1,submitCount:0}),N=Object(o.a)(x,2),C=N[0],j=N[1];return Object(n.useEffect)((function(){if(C.body.value){var e=setTimeout((function(){return j({type:"bodyAfterDelay"})}),800);return function(){return clearTimeout(e)}}}),[C.body.value]),Object(n.useEffect)((function(){j({type:"difficultyImmediately",value:s})}),[s]),Object(n.useEffect)((function(){j({type:"answerOptionsImmediately",value:c})}),[c]),Object(n.useEffect)((function(){""===C.initialState.title||C.title.value===C.initialState.title&&C.body.value===C.initialState.body&&C.difficulty.value===C.initialState.difficulty&&C.answer.value===C.initialState.answer&&JSON.stringify(C.answerOptions.value)===JSON.stringify(C.initialState.answerOptions)?j({type:"QuestionChanged",value:!1}):j({type:"QuestionChanged",value:!0})}),[C.title,C.body,C.difficulty,C.answer,C.answerOptions]),Object(n.useEffect)((function(){if(C.title.value&&C.isChanged){var e=setTimeout((function(){(function(){var e=Object(d.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(C.title.value);case 2:t=e.sent,a=!1,"OK"!==t.data.message&&C.title.value!==C.initialState.title||(a=!0),j({type:"titleUniqueResults",value:a});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),1500);return function(){return clearTimeout(e)}}}),[C.title.value]),Object(n.useEffect)((function(){C.submitCount&&function(){var e=Object(d.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({id:w,title:C.title.value,question:C.body.value,correctAnswer:C.answer.value,answerOptions:C.answerOptions.value,difficulty:C.difficulty.value});case 2:t=e.sent;try{console.log("resp:",t),"success"===t.status&&E({type:"flashMessage",value:"You have edited your question!"})}catch(a){console.log(a)}return e.abrupt("return");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[C.submitCount]),Object(n.useEffect)((function(){(function(){var e=Object(d.a)(m.a.mark((function e(){var t,a,n,r,s,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(w);case 2:t=e.sent;try{"success"===t.status&&(a=t.data.data.title,n=t.data.data.question,r=t.data.data.correctAnswer,s=t.data.data.difficulty,o=t.data.data.answerOptions,j({type:"titleImmediately",value:a}),j({type:"bodyImmediately",value:n}),j({type:"correctAnswerImmediately",value:r}),l(s),p(o),j({type:"initialState",value:{title:a,question:n,correctAnswer:r,difficulty:s,answerOptions:o}}),j({type:"Loading",value:!1}),j({type:"QuestionFound",value:!0}))}catch(u){console.log(u),j({type:"QuestionFound",value:!1})}case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(L,{title:"Create New Question"},C.isLoading&&r.a.createElement(F,null),C.isLoading&&C.questionFound&&r.a.createElement($,null),!C.isLoading&&r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),j({type:"titleImmediately",value:C.title.value}),j({type:"bodyImmediately",value:C.body.value}),j({type:"bodyAfterDelay",value:C.body.value}),j({type:"difficultyImmediately",value:C.difficulty.value}),j({type:"correctAnswerImmediately",value:C.answer.value}),j({type:"answerOptionsImmediately",value:C.answerOptions.value}),j({type:"submitForm"})}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"question-title",className:"text-muted mb-1"},r.a.createElement("small",null,"Title")),r.a.createElement("input",{onChange:function(e){return j({type:"titleImmediately",value:e.target.value})},autoFocus:!0,name:"title",id:"question-title",className:"form-control form-control-lg form-control-title",type:"text",placeholder:"",autoComplete:"off",value:C.title.value}),r.a.createElement(B.a,{in:C.title.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0},r.a.createElement("div",{className:"alert alert-danger small liveValidateMessage"},C.title.message))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"post-body",className:"text-muted mb-1 d-block"},r.a.createElement("small",null,"Question")),r.a.createElement("textarea",{onChange:function(e){return j({type:"bodyImmediately",value:e.target.value})},name:"body",id:"post-body",className:"body-content tall-textarea form-control",type:"text",value:C.body.value}),r.a.createElement(B.a,{in:C.body.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0},r.a.createElement("div",{className:"alert alert-danger small liveValidateMessage"},C.body.message))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"correct-answer",className:"text-muted mb-1"},r.a.createElement("small",null,"Correct Answer")),r.a.createElement("input",{onChange:function(e){return j({type:"correctAnswerImmediately",value:e.target.value})},autoFocus:!0,name:"Correct Answer",id:"correct-answer",className:"form-control form-control-lg form-control-title",type:"text",placeholder:"",autoComplete:"off",value:C.answer.value}),r.a.createElement(B.a,{in:C.answer.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0},r.a.createElement("div",{className:"alert alert-danger small liveValidateMessage"},C.answer.message))),r.a.createElement("label",{htmlFor:"correct-answer",className:"text-muted mb-1"},r.a.createElement("small",null,"Difficulty")),r.a.createElement(Y,{selectItem:l}),r.a.createElement(B.a,{in:C.difficulty.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0},r.a.createElement("div",{className:"alert alert-danger small liveValidateMessage"},C.difficulty.message)),r.a.createElement("label",{htmlFor:"correct-answer",className:"text-muted mb-1"},r.a.createElement("small",null,"Answer alternatives")),r.a.createElement(J,{items:c,setItems:p}),r.a.createElement(B.a,{in:C.answerOptions.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0},r.a.createElement("div",{className:"alert alert-danger small liveValidateMessage"},C.answerOptions.message)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"answer-options",className:"text-muted mb-1"},r.a.createElement("small",null,"Add an answer option")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col mb-2"},r.a.createElement("input",{onChange:function(e){return y(e.target.value)},autoFocus:!0,name:"Answer Option",id:"answer-options",className:"form-control form-control-lg form-control-title",type:"text",placeholder:"",autoComplete:"off"})),r.a.createElement("div",{className:"col mb-2"},r.a.createElement("button",{className:"btn btn-success",disabled:0===g.length,onClick:function(e){e.preventDefault(),p(c.concat(g)),y(""),document.getElementById("answer-options").value=""}},"+")))),r.a.createElement("button",{disabled:!C.isChanged,className:"btn btn-primary"},"Edit Question")))}));var G=function(){return r.a.createElement(L,{title:"Terms and Condition"},r.a.createElement("div",{className:"text-center"},r.a.createElement("h2",null,"Terms and Condition"),r.a.createElement("p",{className:"lead text-muted"},"This website was created by me,",r.a.createElement("a",{href:"https://tormod.dev"}," Fredrik Tormod"),", as a hobby project for developing my skills as a software/cloud developer. Feel free to steal as much as you can from this site if it suits you.")))};var ee=function(){return r.a.createElement(L,{title:"About QuizApp"},r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"text-center"},"About QuizApp"),r.a.createElement("p",{className:"lead text-muted"},"This website is a quiz application where you can create your own questions and answer others. Sign up in order to create your own questions and to keep track of your score. Otherwise just visit the"," ",r.a.createElement(u.b,{to:"/"},"homepage")," and answer existing questions, just for fun!"),r.a.createElement("h4",{className:"text-center mt-5"},"Technology"),r.a.createElement("p",{className:"lead text-muted"},"The website is built using a complete serverless technology stack. It is a classic MERN (MongoDB, Express, React, NodeJS) SPA application running on the AWS cloud. The frontend us built using basic bootstrap and common npm packages. In the backend a REST API is running in an AWS Lambda. This works very well since the application is stateless. However, there is trade off with coldstart which you might experience when using the application. Some effort was made to mitigate this and provisioned concurrency has been enabled. The entire application is deployed using cloudformation and IaC."),r.a.createElement("p",{className:"lead text-muted"},"In the image below a overview of the application infrastructure in AWS is represented, as well as the workflow."),r.a.createElement("div",{className:"text-center mt-5"},r.a.createElement("img",{src:a(74),alt:"AWS_overview",style:{maxWidth:"80%"}})),r.a.createElement("div",{style:{height:"8rem"}}," ")))},te=function(){var e={loggedIn:Boolean(localStorage.getItem("quizappUsername")),flashMessages:[],user:{token:localStorage.getItem("quizappToken"),username:localStorage.getItem("quizappUsername"),email:localStorage.getItem("quizappEmail"),id:localStorage.getItem("quizappId"),avatar:localStorage.getItem("quizappAvatar")}};var t=Object(D.a)((function(e,t){switch(t.type){case"login":e.user.username=t.value.username,e.user.email=t.value.email,e.user.id=t.value.id,e.loggedIn=!0;break;case"logout":e.loggedIn=!1;break;case"flashMessage":e.flashMessages.push(t.value);break;default:console.log("nutin")}}),e),a=Object(o.a)(t,2),s=a[0],l=a[1];return Object(n.useEffect)((function(){s.loggedIn?(localStorage.setItem("quizappUsername",s.user.username),localStorage.setItem("quizappId",s.user.id),localStorage.setItem("quizappEmail",s.user.email)):(localStorage.removeItem("quizappUsername"),localStorage.removeItem("quizappId"),localStorage.removeItem("quizappEmail"))}),[s.loggedIn]),r.a.createElement(i.Provider,{value:s},r.a.createElement(q.Provider,{value:l},r.a.createElement(u.a,null,r.a.createElement(X,{messages:s.flashMessages}),r.a.createElement(T,null),r.a.createElement(I.c,null,r.a.createElement(I.a,{path:"/",exact:!0},r.a.createElement(V,null)),r.a.createElement(I.a,{path:"/question/:id/edit",exact:!0},r.a.createElement(Z,null)),r.a.createElement(I.a,{path:"/create-question"},r.a.createElement(H,null)),r.a.createElement(I.a,{path:"/profile"},r.a.createElement(_,null)),r.a.createElement(I.a,{path:"/sign-up"},r.a.createElement(K,null)),r.a.createElement(I.a,{path:"/about-QuizApp"},r.a.createElement(ee,null)),r.a.createElement(I.a,{path:"/terms"},r.a.createElement(G,null)),r.a.createElement(I.a,null,r.a.createElement($,null))),r.a.createElement(M,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[38,1,2]]]);
//# sourceMappingURL=main.0c32c94d.chunk.js.map